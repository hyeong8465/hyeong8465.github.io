---
title: [Git & Github] Git 사용법
date: 2024-03-17
categories: [Git, Github]
tags: [Git, Github]
pin: false
math: true
mermaid: true
---


# Git 사용법

깃 사용법

Git add 파일명              -> staging area
Git commit -m ‘메세지’.             -> repository


Git add 파일명1 파일명2
Git add .            -> 모든 파일
Git status          -> 스테이징 확인
Git log --oneline —all            -> 
—graph
Git diff           -> 달라진 점 확인
Git difftool        -> 더 자세히(vim)

커밋 아이디
Git difftool 커밋 아이디          -> 커밋 두 개간의 차이 확인
이런 것보다 VS 확장 프로그램 쓰는게 더 편리함

branch를 통한 복사본 관리
원래 있던 소스 코드를 복사하여 새로운 기능 추가하고 싶음, 원본 소스코드에 작성하면 위험할 수 있기 때문
Git branch 브랜치명 -> 최근 커밋의 사본 생성
Git switch 브랜치명 -> 브랜치로 이동
원본은 main 혹은 master
Merge(브랜치를 통합): main branch로 이동하고 git merge 브랜치명
다른 브랜치에서 같은 파일, 같은 줄을 각각 수정했을 경우 충돌이 발생함 -> 원하는 코드만 남기고 add 후 commit

다양한 git merge 방법
3-way merge: 메인과 다른 브랜치가 각각 commit 되었을 때
Fast forward merge: 새로운 브랜치에는 commit이 있지만 main 브랜치에 commit이 없는 경우 새로운 브랜치가 main 브랜치가 됨
Merge된 branch 삭제하기: git branch -d 브랜치 명
Merge를 안한 branch 삭제하기: git branch -D 브랜치 명
rebase: 브랜치의 시작점을 main의 최근 commit으로 옮겨서 ff merge를 함 -> 기존의 ff랑 큰 차이 없음
rebase를 쓰는 이유: 3way는 나중에 git log를 출력할 때 복잡해보이기 때문에 간단한 log는 rebase로 병합
Rebase 단점: 충돌이 많이 남
새로운 브랜치로 이동 -> git rebase 중심브랜치명 -> 중심 브랜치로 이동 -> git merge 새로운 브랜치명
Squash: git merge —squash 새브랜치 -> 새로운 브랜치가 main 브랜치로 이동
장점: log가 깔끔해짐

git을 통해 버전 되돌리기(자주 쓰진 않음)
파일 복구 / 커밋 복구 / 과거로 이동
Git restore 파일명
Git restore —source 커밋아이디 파일명
Git restore —staged 파일명
Git revert 커밋아이디          -> 해당 커밋을 취소하는 커밋 생성, 커밋아이디 여러개 사용 가능
Git reset —hard 커밋아이디      -> 해당 커밋 시점으로 되돌아감, 협업시 사용금지(위험함)
— soft , —mixed

Github 사용법 1. 내 코드 올릴 땐 git push
git이 파일 기록해두는 장소: repository(.git)
github란? 온라인 repository 백업용, 공유 및 협업
원격 저장소 주소를 변수로 저장할 수 있음. Git remote add 변수명 주소
Git remote add origin https://github.com/hyeong8465/hyeong8465.github.io.git
Git push -u origin main
-u: 주소를 저장해라 -> 한번 사용하면 git push만 사용해도 됨

사용법 2. 타인과 협업하기 git clone, pull
다른 사람이 push를 해서 변동사항이 생기면 나는 git push를 못함(원격과 로컬이 다르기 때문) -> git pull로 로컬과 원격의 수정사항을 동일하게 만들어줘야 git push 사용가능

사용법 3. 브랜치로 협업하기 pull request
브랜치를 만들어서 개발하고 merge하는게 훨씬 안정적
원격 저장소의 main 브랜치에 병합하고 싶으면? 협업시엔 검토 및 리뷰가 필요한 경우가 많기 때문에 깃헙 사이트에서 pull request로 merge 요청

Git flow / trunk-based : 더 큰 프로젝트 관리
Git flow 전략
1. Main(소스코드)
2. develop(신기능 개발)
3. Feature(신기능 작동 확인) Ex. Feature/guild, feature/friend
4. release(마지막 테스트) -> Main에 병합 후 배포
5. hotfix(버그 수정, develop과 main 브랜치에서 따옴)
안정적으로 개발 가능
Trunk-based
Main브랜치에서 필요할때 마다 feature만 생성하여 바로 메인에 병합
테스트를 많이, 자주 해야함

Git stash로 코드 잠깐 보관하기
Git stash : 수정했던 코드가 임시보관됨
Git stash list : 보관된 코드 확인
스테이징 안해놓은 새로운 파일은 stash 안될 수도 있음
Git stash salve ‘메모’ : 메모도 적을 수 있음
Git stash pop : 최근에 보관된 코드 다시 불러옴(가장 최근 것부터)
주석처리가 아니라 굳이 stash하는 이유? 주석도 commit에 반영되기 때문, commit할때 숨기고 싶을 때 stash 사용









