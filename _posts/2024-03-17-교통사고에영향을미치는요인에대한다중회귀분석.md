---
title: "[Projects] 교통사고에 영향을 미치는 요인에 대한 다중회귀분석"
categories: [Projects]
pin: false
layout: post
toc: true
tag: [R, Regression]
---

해당 포스팅은 회귀분석 수업의 개인 과제로 진행한 프로젝트를 정리한 글입니다.  
적절한 데이터의 수집, 회귀분석 적용 및 해석을 주목적으로 프로젝트를 진행하였습니다.  
학과 커리큘럼에 맞게 R을 활용하여 프로젝트를 진행하였습니다.

### Introduction
교통사고는 사회적, 경제적 비용을 초래하는 중요한 문제입니다. 한국은 OECD 회원국 중에서도 높은 교통사고 발생률과 사망자 수를 기록하고 있으며, 이는 국가 GDP의 약 2.26%에 달하는 비용을 발생시킵니다. 따라서 교통사고의 원인을 분석하고 이를 통해 사고를 줄이는 방법을 모색하는 것이 필요합니다. 이번 포스팅에서는 교통사고분석시스템(TAAS)의 데이터를 활용하여 교통사고 발생에 영향을 미치는 요인들을 다중회귀분석을 통해 살펴보겠습니다.


## Project의 주제와 데이터 셋
주제: 교통사고에 영향을 미치는 요인에 대한 다중회귀분석  
데이터 셋: 교통사고분석시스템(TAAS), 기상청

## 변수 설명
![dataset](/assets/img/accident_dataset.png)
*Table 1: 데이터셋의 일부*
- 사고건수(Y): 회귀분석의 대상이 되는 종속변수, 교통사고 지표로 사용
- 자동차 등록 대수(car): 자동차등록원부에 등록하고 운행할 수 있는 자동차의 등록대수, 자동차 등록 대수가 많을 수록 교통사고가 더 자주 발생할 것이라고 예상
- 인구수(population): 인구의 증가에 따라 운전자 및 보행자가 많이지고 그에 따라 교통사고 또한 증가할 것이라고 예상 
- 도로연장(road): 도로의 총길이, 도로보급률의 지표로 사용
- 교통안전시설(safety): 안전표지와 신호기로 구분되는데 두 항목의 합계, 교통안전시설이 많이 설치되어 있을 수록 운전자에게 보다 빈번하게 경감심을 주고 교통사고 발생을 억제할 것이라고 예상
- 강수량(rain): 전국 평균 연강수량, 기상환경의 영향을 반영하고자 사용


## EDA
![plot](/assets/img/accident_plot.png)
*Figure 1: 각 변수의 시계열 그래프*
대부분의 변수는 시간이 지남에 따라 증가하는 경향을 보인다.  
특히 사고건수(accident)는 감소 추세를 보였고, 강수량(rain)은 일정 범위를 유지하고 있다.  
<br>

![plot](/assets/img/scatter_plot.png)
*Figure 2: 변수 간의 산점도*
car, population, road, safety 간에 강한 상관관계가 확인되었다.  
변수 간의 강한 상관관계는 다중공선성 문제를 야기할 수 있기 때문에 추후 회귀분석 시 유의해야 한다.

## 분석 내용
![plot](/assets/img/accident_baseline.png)
*Output 1: Baseline model*
오직 road 변수만 유의한 것으로 나타났지만, EDA에서 변수 간의 상관관계를 확인하였기 때문에 다중공선성 문제를 해결하기 위해 변수 선택이 필요하다.
<br>

![plot](/assets/img/accident_diagnostics.png)
*Figure 3-5: 회귀진단(정규확률, 잔차 대 적합값, 잔차 대 인덱스)*
회귀분석의 가정 중 정규성, 등분산성을 확인하기 위해 정규확률, 잔차 대 적합값, 잔차 대 인덱스 plot을 그려보았다.  
정규확률플롯이 직선을 따르는 것을 통해 정규성을 확인했다. 또한, 잔차 대 적합값플롯에서 잔차값이 -2와 2 사이에 존재하므로 이상값은 발견되지 않았다. 그러나 잔차 대 인덱스플롯에서 경향성이 나타
났으며 자기상관성 문제가 의심된다.  
데이터의 성격상 시간의 순서에 따라 수집되어 발생한 것으로 예상되어 자기상관성을 확인하기 위해 더빈-왓슨 통계량을 계산하였다.

<br>

![plot](/assets/img/accident_dubinwatson.png)
*Output 2: 더빈-왓슨 통계량*
통계량 값이 2에 아주 가깝기에 자기상관은 없는 것으로 예측되며 예상과 반대되
는 결과가 나왔다.

<br>

![plot](/assets/img/accident_correlation.png)
*Figure 6: 상관계수 히트맵*
EDA에서 변수 간의 상관관계를 확인하였기 때문에 상관계수를 계산하여 히트맵으로 시각화하였다.  
예상대로 car, population, road, safety 간에 강한 상관관계가 확인되었다. 인구가 증가함에 따라 자동차 등록 대수가 많아지고 도로연장도 길어지며 교통 안전 시설의 개수도 영향을 받기 때문이다.  
독립변수 간의 상관관계는 회귀분석 결과의 신뢰도를 낮추기 때문에 변수 선택을 통해 문제를 해결해야 한다.  
- 독립변수 간의 상관관계가 문제되는 이유  
    1. 회귀계수의 불안정성: 독립변수 간의 상관관계가 높으면 회귀계수의 추정치가 민감해지며 데이터의 약간의 변화에도 회귀계수가 크게 변할 수 있다.
    2. 회귀계수의 표준 오차 증가
    3. 해석의 어려움: 특정 독립변수가 종속변수에 미치는 영향을 명확히 해석하기 어려워진다.

![plot](/assets/img/accident_model2.png)
*Output 3: model2*
회귀모형에 적합한 변수를 찾기 위해 후진적 제거 절차를 사용하여 최종 모델을 결정하였다.  

![plot](/assets/img/accident_vif.png)
*Output 4: vif*
기존 baseline 모형과 최종 모형의 VIF값을 비교한 결과, baseline 모형의 변수에서 VIF값이 10을 넘는 변수가 확인 되었지만 축소된 모형의 변수는 VIF값이 10 이하로 감소하였다.

## 결론
최종 모델을 통해 도로연장이 늘어날수록 사고가 감소하고, 교통안전시설이 많아질수록 사고가 증가하는 것으로 나타났다. 이는 전 예상과는 다른 결과로, 안전시설이 오히려 사고를 유발할 수 있음을 시사한다.  
<br>
이러한 결과를 바탕으로, 교통안전시설의 설치와 관리에 대한 추가 연구가 필요해보인다. 예를 들어 교통안전시설이 과하게 설치되면 오히려 사고를 유발하는지, 만약 그렇다면 사고를 억제하는 적정 수준은 어느 정도인지 등 다양한 연구를 진핼할 수 있을 것이다.

## 회고
해당 프로젝트는 회귀분석 강의를 들으며 학습한 이론을 실습처럼 적용해보는 첫 프로젝트였다. 당시에 제출한 보고서를 기반으로 포스팅하였는데, 다시 읽으니 부족한 부분이 많이 보인다.  
<br>
먼저 데이터 수집의 측면에서, 분석 주제와 관련된 비슷한 맥락의 데이터만 수집한 게 아쉽다. 독립변수들이 비슷한 맥락이라서 변수들 간의 상관관계가 높아서 대부분 제거되었다. 또, 표면적으로 교통사고와 관련되어 있는 것 같지 않은 변수들도 분석에 추가하면 재밌는 결과를 얻을 수 있었을 것 같은데 그러지 않은 게 아쉽다.  
종속변수도 단순히 발생건수가 아니라 사고의 정도도 반영할 수 있는 데이터를 수집했다면 더 유의미한 결과가 나타났을 것 같다. 그러면 예상과 달랐던 교통안전시설의 결과가 다르게 나타나지 않을까?  
<br>
분석의 측면에서, 일단 EDA가 성의없었다. 그래프도 몇 장 안 그렸고, ggplot도 사용하지 않았으니 말이다. 히트맵과 VIF값도 보고서엔 없었지만 블로그 포스팅을 위해 추가했다.  
회귀진단은 왜 baseline 모형에만 적용하고 최종 모형에서는 빼먹었는지도 의문이다.


